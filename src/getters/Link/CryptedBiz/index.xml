index:	0
title:	CryptedBiz
desc:	[L:CryptedBiz] <a href="http://crypted.biz/">"http://crypted.biz/"</a>

body:	
	<p>Status: OK 2009-10-24</p>
	<pre># $Id: CryptedBiz 11111 2010-01-13 13:09:39Z sparky $
# Link::CryptedBiz - Link decrypter plugin for rsget.pl
#
# 2009-2010 (c) Przemys≈Çaw Iskra &lt;sparky@pld-linux.org&gt;
#		This program is free software,
# you may distribute it under GPL v2 or newer.

name: CryptedBiz
short: L:CryptedBiz
web: "http://crypted.biz/"
uri: qr{crypted\.biz/}
slots: max
status: OK 2009-10-24

pre:
	use MIME::Base64;

start:
	GET( $-{_uri} );

	my @list;
	push @list, $1
		while s/className='inner_link\d+';window\.open\('(.*?)'\)"&gt;//;

	ERROR("no links") unless @list;

	$-{list} = \@list;
	$-{outlist} = [];

stage_get_link:
	GET( shift @{$-{list}}, keep_referer =&gt; 1 );
	m{var versch = '(.*?)';};
	$_ = decode_base64( $1 );
	m{ src="(.*?)"&gt;};
	push @{$-{outlist}}, $1;

	GOTO stage_get_link if @{$-{list}};

	LINK( @{$-{outlist}} );

# vim: filetype=perl:ts=4:sw=4
</pre>
